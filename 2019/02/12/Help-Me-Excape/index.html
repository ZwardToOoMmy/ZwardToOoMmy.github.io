
<!DOCTYPE html>
<html lang="zh-Hans" class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hexo</title>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="è¿™ç¯‡æ–‡ç« çš„å‡ºç°ï¼Œé¢„ç¤ºç€æ—¶éš”å¤šå¹´ï¼Œæˆ‘çš„åšå®¢ç»ˆäºè¦å¯ç”¨å•¦ï¼æ’’èŠ±èŠ±"> 
    <meta name="author" content="John Doe"> 
    <link rel="alternative" href="atom.xml" title="Hexo" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
</head>
</html>
<body class="loading">
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;"></a>
    <div title="æ’­æ”¾/æš‚åœ" class="icon-play"></div>
    <h3 class="subtitle">ZOJ2640 Help Me Escape</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="è·å–äºŒç»´ç " class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>
    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title">ZOJ2640 Help Me Escape</h1>
        <div class="stuff">
            <span>äºŒæœˆ 12, 2019</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Study-Note/">Study Note</a></li></ul>


        </div>
        <div class="content markdown">
            <h6 id="â†’çœ‹ä¸è§LaTexæ ¼å¼çš„Dalaoä»¬è¯·åˆ·æ–°æœ¬é¡µThanksâ™ª-ï½¥Ï‰ï½¥-ï¾‰â†"><a href="#â†’çœ‹ä¸è§LaTexæ ¼å¼çš„Dalaoä»¬è¯·åˆ·æ–°æœ¬é¡µThanksâ™ª-ï½¥Ï‰ï½¥-ï¾‰â†" class="headerlink" title="~{â†’çœ‹ä¸è§LaTexæ ¼å¼çš„Dalaoä»¬è¯·åˆ·æ–°æœ¬é¡µThanksâ™ª(ï½¥Ï‰ï½¥)ï¾‰â†}~"></a>~{â†’çœ‹ä¸è§LaTexæ ¼å¼çš„Dalaoä»¬è¯·åˆ·æ–°æœ¬é¡µThanksâ™ª(ï½¥Ï‰ï½¥)ï¾‰â†}~</h6><h3 id="2019å¯’å‡é›†è®­é¢˜"><a href="#2019å¯’å‡é›†è®­é¢˜" class="headerlink" title="2019å¯’å‡é›†è®­é¢˜"></a>2019å¯’å‡é›†è®­é¢˜</h3><h4 id="B-Help-Me-Escape"><a href="#B-Help-Me-Escape" class="headerlink" title="B.Help Me Escape"></a>B.Help Me Escape</h4><h6 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h6><p><em>If thou doest well, shalt thou not be accepted?  and if thou doest not well, sin lieth at the door. And unto thee shall  be his desire, and thou shalt rule over him.</em></p>
<p><em>And Cain talked  with Abel his brother: and it came to pass, when they were in the field,  that Cain rose up against Abel his brother, and slew him.</em></p>
<p><em>And the LORD said unto Cain, Where is Abel thy brother? And he said, I know not: Am I my brotherâ€™s keeper?</em></p>
<p><em>And he said, What hast thou done? the voice of thy brotherâ€™s blood crieth unto me from the ground.</em></p>
<p><em>And now art thou cursed from the earth, which hath opened her mouth to receive thy brotherâ€™s blood from thy hand;</em></p>
<p><em>When thou tillest the ground, it shall not henceforth yield unto  thee her strength; a fugitive and a vagabond shalt thou be in the earth.</em>  </p>
<p>â€‹                                                                                                                                                          $ â€”â€” Bible Chapter 4$</p>
<h6 id="é¢˜é¢"><a href="#é¢˜é¢" class="headerlink" title="é¢˜é¢"></a>é¢˜é¢</h6><p> Now Cain is unexpectedly trapped in a cave with N paths. Due to LORDâ€™s punishment, all the paths are zigzag and dangerous. The difficulty of the ith path is ci. </p>
<p> Then we define f as the fighting capacity of Cain. Every day, Cain will be sent to one of the N paths randomly. </p>
<p> Suppose Cain is in front of the ith path. He can successfully take ti days to escape from the cave as long as his fighting capacity f is larger than ci. Otherwise, he has to keep trying day after day. However, if Cain failed to escape, his fighting capacity would increase ci as the result of actual combat. (A kindly reminder: Cain will never died.) </p>
<p> As for ti, we can easily draw a conclusion that ti is closely related to ci. Letâ€™s use the following function to describe their relationship:  </p>
<script type="math/tex; mode=display">t_i=\lfloor \frac{1+\sqrt 5}2Ã—c_i^2\rfloor</script><p> After D days, Cain finally escapes from the cave. Please output the expectation of D. </p>
<hr>
<h6 id="ç®€è¦ç¿»è¯‘"><a href="#ç®€è¦ç¿»è¯‘" class="headerlink" title="ç®€è¦ç¿»è¯‘"></a>ç®€è¦ç¿»è¯‘</h6><p>æœ‰$n$ä¸ªå¦–æ€ªï¼Œæ¯ä¸ªå¦–æ€ªæœ‰ä¸€ä¸ªæˆ˜æ–—åŠ›$c_j$ã€‚å°Aæœ‰ä¸€ä¸ªåˆå§‹æˆ˜æ–—åŠ›$f_0$ã€‚ æ¯å¤©ï¼Œå°Aéšæœºé€‰æ‹©ä¸€ä¸ªå¦–æ€ªå†³æ–—ã€‚è®¾å°Aåœ¨ç¬¬ğ‘–å¤©çš„æˆ˜æ–—åŠ›ä¸º$f_i$ã€‚ è®¾å½“å‰ä¸ºç¬¬$ğ‘–$å¤©ï¼Œå¦‚æœæ‰“èµ¢ï¼Œå³$ğ‘“_i &gt; ğ‘_j$ï¼Œå°±å¯ä»¥é€ƒå‡ºå»ï¼Œéœ€è¦èŠ±$t_j$å¤©ã€‚ å¦‚æœæ‰“ä¸èµ¢ï¼Œå°Aä¼šè®©è‡ªå·±å˜å¼ºï¼Œ$ğ‘“_{i+1} = ğ‘“_i+ ğ‘_j$ã€‚ æ±‚å°Aé€ƒå‡ºæ¥éœ€è¦çš„æœŸæœ›å¤©æ•°ã€‚</p>
<hr>
<h6 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h6><p>è¾“å…¥åŒ…å«å¤šç»„æ•°æ®ã€‚</p>
<p>æ¯ç»„æ•°æ®åŒ…æ‹¬ä¸¤è¡Œã€‚ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ª$n$å’Œ$f$ï¼Œç¬¬äºŒè¡ŒåŒ…å«$n$ä¸ªæ•´æ•°$c_i$ã€‚</p>
<hr>
<h6 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h6><p>å¯¹äºæ¯ç»„æ•°æ®ä½ è¦è¾“å‡ºæœŸæœ›å€¼ï¼Œä¿ç•™å°æ•°ç‚¹åä¸‰ä½ã€‚</p>
<hr>
<h6 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h6><p>3 1</p>
<p>1 2 3</p>
<hr>
<h6 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h6><p>6.889</p>
<hr>
<h6 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h6><p>$n\leq 100$ï¼Œ$f\leq 10,000$ï¼Œ$c_i\leq10,000ï¼Œ1\leq i\leq n$ã€‚</p>
<hr>
<p>ç”¨$f(i)$è¡¨ç¤ºæˆ˜æ–—åŠ›ä¸º$i$æ—¶ï¼Œæ‰€éœ€è¦çš„æœŸæœ›å¤©æ•°ã€‚</p>
<p>é‚£ä¹ˆæœ‰ï¼šè‹¥$i&gt;c_j$ï¼Œåˆ™$f(i)=f(i)+\frac 1n(t_j)$ï¼›</p>
<p>è‹¥ï¼ˆ$i\leq c_j$ï¼‰ï¼Œåˆ™$f(i)=f(i)+\frac 1n(f(i+c_j)+1)$ã€‚</p>
<p>ç„¶åè¿›è¡Œè®°å¿†åŒ–æœç´¢ã€‚</p>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> x = <span class="number">0</span>, w = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;w |= ch == <span class="string">'-'</span>; ch = getchar();&#125;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;x = (x &lt;&lt; <span class="number">3</span>) + (x &lt;&lt; <span class="number">1</span>) + ch - <span class="string">'0'</span>; ch = getchar();&#125;</span><br><span class="line">	<span class="keyword">return</span> w ? -x : x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">data</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> c, t;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">100010</span>];</span><br><span class="line"><span class="built_in">vector</span>&lt;data&gt; vs;</span><br><span class="line"><span class="keyword">int</span> N, F;</span><br><span class="line"><span class="keyword">double</span> dp[<span class="number">100010</span>];</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> f)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (vis[f]) <span class="keyword">return</span> dp[f];</span><br><span class="line">	vis[f] = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">double</span> A = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">		<span class="keyword">if</span> (vs[i].c &gt;= f) A += (<span class="number">1</span> + dfs(f + vs[i].c)) / N;</span><br><span class="line">		<span class="keyword">else</span> A += <span class="number">1.0</span> * vs[i].t / N;</span><br><span class="line">	<span class="keyword">return</span> dp[f] = A;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;N, &amp;F))</span><br><span class="line">	&#123;</span><br><span class="line">		vs.clear();</span><br><span class="line">		<span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, g; i &lt; N; ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			g = read();</span><br><span class="line">			<span class="keyword">int</span> p = (<span class="number">1</span> + <span class="built_in">sqrt</span>(<span class="number">5</span>)) / <span class="number">2</span> * g * g;</span><br><span class="line">			vs.push_back((data) &#123;g, p&#125;);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%.3lf\n"</span>, dfs(F));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link" data-ae="false" data-ci="" data-cs="" data-r="" data-o="" data-a="" data-d="false">æŸ¥çœ‹è¯„è®º</div>


    </div>
    
</div>


    </div>
</div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
<div id="music163player">
	<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1332052297&auto=1&height=66"></iframe>
</div>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>